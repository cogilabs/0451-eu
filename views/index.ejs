<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>0451.eu - Easter Eggs</title>
  <script src="https://unpkg.com/htmx.org@1.9.10"></script>
  <script src="/js/easter-eggs.js"></script>
  <link href="./output.css" rel="stylesheet">
  <%
    const loremIpsum1 = "Lorem ipsum dolor sit amet, consectetur adipiscing elit."; 
    const loremIpsum2 = loremIpsum1.replace(".", ",") + " sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.";
    const loremIpsum3 = loremIpsum2 + " Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.";
    const loremIpsum4 = loremIpsum3 + " Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.";
    const loremIpsum5 = loremIpsum4 + " Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.";
  %>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const scrollContainers = document.querySelectorAll('.scroll-drag');
      
      scrollContainers.forEach(container => {
        let isDown = false;
        let startX;
        let scrollLeft;

        container.addEventListener('mousedown', (e) => {
          isDown = true;
          container.style.cursor = 'grabbing';
          startX = e.pageX - container.offsetLeft;
          scrollLeft = container.scrollLeft;
        });

        container.addEventListener('mouseleave', () => {
          isDown = false;
          container.style.cursor = 'grab';
        });

        container.addEventListener('mouseup', () => {
          isDown = false;
          container.style.cursor = 'grab';
        });

        container.addEventListener('mousemove', (e) => {
          if (!isDown) return;
          e.preventDefault();
          const x = e.pageX - container.offsetLeft;
          const walk = (x - startX) * 2;
          container.scrollLeft = scrollLeft - walk;
        });
      });
    });
  </script>
</head>
<body class="bg-gray-100 text-gray-800 flex flex-col min-h-screen m-0">
  <header class="bg-blue-500 text-white p-4">
    <h1 class="text-2xl font-bold">0451.eu - Easter Eggs Archive</h1>
    <nav class="flex space-x-4">
      <a href="/" class="hover:text-blue-300">Home</a>
      <a href="/about" class="hover:text-blue-300">About</a>
    </nav>
  </header>
  <main class="p-6 flex-1 flex flex-col">
    <p class="pb-6">Welcome to 0451.eu, your digital archive of gaming and movie easter eggs! Dive into our carefully curated collection of hidden gems, secret codes, and cultural references. From the iconic "0451" that appears across countless games to obscure movie details you might have missed, our archive celebrates the art of hidden content. Start exploring below and uncover the stories behind your favorite easter eggs!</p>
    <div class="grid grid-cols-5 gap-4 flex-1">
      <div class="col-span-1 bg-gray-200 p-4 space-y-4">
        <div class="bg-white rounded-lg shadow-md p-4">
          <h3 class="text-lg font-bold mb-3 text-blue-600">Filters</h3>
          <div class="flex flex-col space-y-2">
            <button 
              class="px-4 py-2.5 rounded-lg text-sm font-medium border transition-all duration-200
                     bg-gradient-to-r from-blue-500 to-blue-600 text-white border-blue-600
                     hover:from-blue-600 hover:to-blue-700 shadow-sm"
              hx-get="/api/filter"
              hx-target="#cards-container"
              hx-swap="innerHTML"
            >All Easter Eggs</button>
            
            <button 
              class="px-4 py-2.5 rounded-lg text-sm font-medium border transition-all duration-200
                     bg-gradient-to-r from-amber-400 to-amber-500 text-gray-800 border-amber-500
                     hover:from-amber-500 hover:to-amber-600 shadow-sm"
              hx-get="/api/filter?type=game"
              hx-target="#cards-container"
              hx-swap="innerHTML"
            >
              <div class="flex items-center justify-center space-x-2">
                <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                  <path d="M11 17a1 1 0 001.447.894l4-2A1 1 0 0017 15V9.236a1 1 0 00-1.447-.894l-4 2a1 1 0 00-.553.894V17zM15.211 6.276a1 1 0 000-1.788l-4.764-2.382a1 1 0 00-.894 0L4.789 4.488a1 1 0 000 1.788l4.764 2.382a1 1 0 00.894 0l4.764-2.382zM4.447 8.342A1 1 0 003 9.236V15a1 1 0 00.553.894l4 2A1 1 0 009 17v-5.764a1 1 0 00-.553-.894l-4-2z"/>
                </svg>
                <span>Games</span>
              </div>
            </button>
            
            <button 
              class="px-4 py-2.5 rounded-lg text-sm font-medium border transition-all duration-200
                     bg-gradient-to-r from-red-400 to-red-500 text-gray-800 border-red-500
                     hover:from-red-500 hover:to-red-600 shadow-sm"
              hx-get="/api/filter?type=movie"
              hx-target="#cards-container"
              hx-swap="innerHTML"
            >
              <div class="flex items-center justify-center space-x-2">
                <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm3 2h6v4H7V5zm8 8v2h1v-2h-1zm-2-2H7v4h6v-4zm2 0h1V9h-1v2zm1-4V5h-1v2h1zM5 5v2H4V5h1zm0 4H4v2h1V9zm-1 4h1v2H4v-2z" clip-rule="evenodd"/>
                </svg>
                <span>Movies</span>
              </div>
            </button>
            
            <button 
              class="px-4 py-2.5 rounded-lg text-sm font-medium border transition-all duration-200
                     bg-gradient-to-r from-gray-500 to-gray-600 text-white border-gray-600
                     hover:from-gray-600 hover:to-gray-700 shadow-sm"
              hx-get="/api/filter?type=other"
              hx-target="#cards-container"
              hx-swap="innerHTML"
            >
              <div class="flex items-center justify-center space-x-2">
                <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                  <path d="M5 3a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2V5a2 2 0 00-2-2H5zM5 11a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2v-2a2 2 0 00-2-2H5zM11 5a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V5zM11 13a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"/>
                </svg>
                <span>Others</span>
              </div>
            </button>
          </div>
        </div>

        <% const randomEgg = cards[Math.floor(Math.random() * cards.length)]; %>
        <div class="mt-6 p-4 bg-white rounded-lg shadow-md">
          <h3 class="text-lg font-bold mb-3 text-blue-600">Random Easter Egg</h3>
          <div class="space-y-2">
            <h4 class="font-semibold text-gray-800"><%= randomEgg.title %></h4>
            <div class="h-20 overflow-hidden relative">
              <p class="text-sm text-gray-600"><%= randomEgg.description %></p>
              <div class="absolute bottom-0 w-full h-8 bg-gradient-to-t from-white to-transparent"></div>
            </div>
            <div class="pt-2">
              <a href="/details/<%= randomEgg.slug %>" 
                 class="inline-block w-full text-center py-2 px-4 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors">
                Learn more
              </a>
            </div>
          </div>
        </div>
      </div>      
      <div class="col-span-4 bg-gray-300 p-4 flex flex-wrap justify-around gap-4" id="cards-container">
        <% cards.forEach(card => { %>
          <div class="card w-96 rounded-xl overflow-hidden flex-none shadow-lg bg-white p-4 h-52 relative transform transition-transform duration-200 hover:scale-105">
            <div class="pl-4">
              <h2 class="font-bold text-3xl mb-2"><%= card.title %></h2>
              <p class="text-gray-700 text-base max-w-[50%]">
                <%= card.description %>
              </p>
            </div>
            <div class="absolute top-0 right-0 w-8 h-[calc(100%-40px)] flex items-center justify-center text-black text-lg font-semibold <%= card.type === 'game' ? 'bg-amber-300' : 'bg-red-400' %>" style="writing-mode: vertical-rl;">
              <%= card.type === 'game' ? 'Game Easter egg' : 'Movie Easter egg' %>
            </div>
            <div class="absolute bottom-0 left-0 w-full h-10 bg-slate-200 flex items-center pl-2 pr-2 justify-between">
              <div class="flex-1 overflow-x-auto hide-scrollbar mr-2 scroll-drag cursor-grab no-select" style="mask-image: linear-gradient(to right, black 90%, transparent 100%);">
                <div class="flex space-x-2 w-max pr-8">
                  <% card.tags.forEach(tag => { %>
                    <span class="px-2 py-0.5 whitespace-nowrap text-xs text-center font-semibold text-black rounded-full border bg-<%= tag.color %> bg-opacity-40 border-<%= tag.color %>">
                      <%= tag.name %>
                    </span>
                  <% }); %>
                </div>
              </div>
              <a href="/details/<%= card.slug %>" class="flex-shrink-0 flex items-center px-3 py-0.5 pr-0.5 text-sm font-medium text-black bg-gray-400 rounded-full hover:bg-gray-300">
                Learn more &nbsp;
                <span class="px-1 py-1 rounded-full border bg-opacity-70 bg-stone-500 border-hidden">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                  </svg>
                </span>
              </a>
            </div>
            <div class="absolute bottom-12 right-10 w-28 h-28 rounded-full overflow-hidden">
              <img src="<%= card.image %>" alt="<%= card.title %> image" class="w-full h-full object-cover">
            </div>
          </div>
        <% }); %>
      </div>
    </div>
  </main>
  <footer class="bg-gray-800 text-white p-4 flex items-center">
    <div class="w-24"></div>
    <div class="flex-1 text-center">
      <p>&copy; 2025 <a href="https://Cogilabs.eu/" class="hover:text-blue-300">Cogilabs.eu</a></p>
    </div>
    <a href="https://Cogilabs.eu/" ><img src="https://cogilabs.eu/Images/Cogilabs-long-contour-wh-notxt.svg" alt="Cogilabs Logo" class="h-8"></a>
  </footer>
</body>
</html>
